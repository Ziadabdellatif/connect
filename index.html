<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>نموذج تسجيل</title>
  <style>
    body { font-family: sans-serif; background: #f2f2f2; padding: 20px; }
    .container { background: white; max-width: 600px; margin: auto; padding: 30px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .logo img { width: 100px; border-radius: 12px; display: block; margin: auto; }
    .slogan { text-align: center; margin: 10px 0 20px; color: #555; }
    input, select, textarea { width: 100%; padding: 10px; margin: 10px 0; border-radius: 8px; border: 1px solid #ccc; }
    button { background: #007bff; color: white; padding: 12px; border: none; border-radius: 8px; width: 100%; }
    .success { text-align: center; color: green; margin-top: 15px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo"><img src="https://iili.io/FTZ5qFI.png" alt="logo"></div>
    <div class="slogan">من غير ما تبيع .... تقدر تكسب 💰</div>
    <form id="leadForm">
      <input type="text" name="referrer_name" placeholder="اسم المسوق" required>
      <input type="text" name="referrer_phone" placeholder="رقم المسوق" required>
      <input type="text" name="client_name" placeholder="اسم العميل" required>
      <input type="text" name="client_phone" placeholder="رقم العميل" required>
      <select name="property_type" required>
        <option value="">نوع العقار</option>
        <option>فيلا</option><option>أرض</option><option>شقة</option><option>شاليه</option><option>تجاري</option>
      </select>
      <input type="text" name="city" placeholder="المدينة" required>
      <input type="text" name="unit_code" placeholder="كود الوحدة" required>
      <textarea name="notes" placeholder="ملاحظات"></textarea>
      <button type="submit">إرسال</button>
    </form>
    <div class="success" id="successMsg" style="display:none;">✅ تم الإرسال بنجاح</div>
  </div>

  <script>
    document.getElementById("leadForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const data = Object.fromEntries(formData.entries());
      data.timestamp = new Date().toLocaleString();

      google.script.run.withSuccessHandler(() => {
        document.getElementById("successMsg").style.display = "block";
        document.getElementById("leadForm").reset();
      }).submitForm(JSON.stringify(data));
    });
  </script>
</body>
</html>
